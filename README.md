# aws-log-parser
A repository that contains python scripts to better analyse logs from aws agents such DRS, MGN, CE, etc. 

## Problem example:

The AWS DRS Replication agent logs are present in `agent.log.0` in the below format:
```
{"message":"found HardwareInfoGetterLinux.CpuInfoEntry(modelName=Intel Core i7 9xx (Nehalem Core i7, IBRS update), cores=1, physicalId=0, backupId=0)","log":{"type":"Remote","name":"Agent","level":"INFO","level_number":20},"source_code":{"function":"cpuArrayFromCpuInfoLines","file":"com.amazonaws.cloudendure.agent.driverflavor.platform.HardwareInfoGetterLinux"},"runtime_thread":24,"origin":{"hostname":"prlbroker01"},"@timestamp":"2022-11-14T06:50:55.305Z"}>>>
{"message":"Opening named pipe for shutdown {0}","log":{"type":"Remote","name":"Agent","level":"INFO","level_number":20},"source_code":{"function":"run","file":"com.amazonaws.cloudendure.agent.ShutdownManager"},"runtime_thread":25,"args":["shutdown_pipe"],"origin":{"hostname":"prlbroker01"},"@timestamp":"2022-11-14T06:50:55.314Z"}>>>
{"message":"found HardwareInfoGetterLinux.CpuInfoEntry(modelName=Intel Core i7 9xx (Nehalem Core i7, IBRS update), cores=1, physicalId=1, backupId=1)","log":{"type":"Remote","name":"Agent","level":"INFO","level_number":20},"source_code":{"function":"cpuArrayFromCpuInfoLines","file":"com.amazonaws.cloudendure.agent.driverflavor.platform.HardwareInfoGetterLinux"},"runtime_thread":24,"origin":{"hostname":"prlbroker01"},"@timestamp":"2022-11-14T06:50:55.322Z"}>>>
{"message":"computed CPU array [HardwareInfoGetter.Cpu(modelName=Intel Core i7 9xx (Nehalem Core i7, IBRS update), cores=1), HardwareInfoGetter.Cpu(modelName=Intel Core i7 9xx (Nehalem Core i7, IBRS update), cores=1)]","log":{"type":"Remote","name":"Agent","level":"INFO","level_number":20},"source_code":{"function":"computeCpuArray","file":"com.amazonaws.cloudendure.agent.driverflavor.platform.HardwareInfoGetterLinux"},"runtime_thread":24,"origin":{"hostname":"prlbroker01"},"@timestamp":"2022-11-14T06:50:55.325Z"}>>>
{"message":"CPUs: {0}","log":{"type":"Remote","name":"Agent","level":"INFO","level_number":20},"source_code":{"function":"updateAgentSourceProperties","file":"com.amazonaws.cloudendure.drs.agent.shared.DRSAgentManagementCommunicator"},"runtime_thread":24,"args":["[{Cores: 1,ModelName: Intel Core i7 9xx (Nehalem Core i7, IBRS update)}, {Cores: 1,ModelName: Intel Core i7 9xx (Nehalem Core i7, IBRS update)}]"],"origin":{"hostname":"prlbroker01"},"@timestamp":"2022-11-14T06:50:55.363Z"}>>>
{"message":"rootPathString {0} bootPathString {1}","log":{"type":"Remote","name":"Agent","level":"INFO","level_number":20},"source_code":{"function":"addRootAndBootPartitionPaths","file":"com.amazonaws.cloudendure.agent.driverflavor.platform.HardwareInfoGetterLinux"},"runtime_thread":24,"args":["/dev/mapper/centos-root","/dev/vda1"],"origin":{"hostname":"prlbroker01"},"@timestamp":"2022-11-14T06:50:55.901Z"}>>>
{"message":"Exception was thrown by the client when trying to confirm snapshot","log":{"type":"Remote","name":"Agent","level":"WARNING","level_number":30},"source_code":{"line":1219,"function":"getAgentCommand","file":"com.amazonaws.cloudendure.drs.agent.shared.DRSAgentManagementCommunicator"},"runtime_thread":20,"exception":{"message":"Unable to execute HTTP request: Network is unreachable (connect failed)","type":"com.amazonaws.SdkClientException","trace":"com.amazonaws.SdkClientException: Unable to execute HTTP request: Network is unreachable (connect failed)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1219)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1165)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:814)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n\tat com.amazonaws.services.drs.DrsClient.doInvoke(DrsClient.java:4417)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4384)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4373)\n\tat com.amazonaws.services.drs.DrsClient.executeCreateSessionForDrs(DrsClient.java:698)\n\tat com.amazonaws.services.drs.DrsClient.createSessionForDrs(DrsClient.java:667)\n\tat com.amazonaws.cloudendure.drs.credentials_provider.DRSCreateSessionCredentialsProvider.createSession(DRSCreateSessionCredentialsProvider.java:22)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.newSession(CECreateSessionCredentialsProvider.java:81)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.access$000(CECreateSessionCredentialsProvider.java:12)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider$1.call(CECreateSessionCredentialsProvider.java:21)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider$1.call(CECreateSessionCredentialsProvider.java:18)\n\tat com.amazonaws.auth.RefreshableTask.refreshValue(RefreshableTask.java:295)\n\tat com.amazonaws.auth.RefreshableTask.blockingRefresh(RefreshableTask.java:251)\n\tat com.amazonaws.auth.RefreshableTask.getValue(RefreshableTask.java:192)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.getCredentials(CECreateSessionCredentialsProvider.java:59)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.getCredentials(CECreateSessionCredentialsProvider.java:12)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.getCredentialsFromContext(AmazonHttpClient.java:1269)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.runBeforeRequestHandlers(AmazonHttpClient.java:845)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:794)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n\tat com.amazonaws.services.drs.DrsClient.doInvoke(DrsClient.java:4417)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4384)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4373)\n\tat com.amazonaws.services.drs.DrsClient.executeGetAgentCommandForDrs(DrsClient.java:1603)\n\tat com.amazonaws.services.drs.DrsClient.getAgentCommandForDrs(DrsClient.java:1571)\n\tat com.amazonaws.cloudendure.drs.agent.shared.DRSAgentManagementCommunicator.getAgentCommand(DRSAgentManagementCommunicator.java:338)\n\tat com.amazonaws.cloudendure.agent.shared.ConnectionCreator.tryCreateConnection(ConnectionCreator.java:208)\n\tat com.amazonaws.cloudendure.agent.shared.ConnectionCreator.createConnection(ConnectionCreator.java:164)\n\tat com.amazonaws.cloudendure.agent.driverflavor.ClientCommunicatorDrvFlavor.getChannel(ClientCommunicatorDrvFlavor.java:122)\n\tat com.amazonaws.cloudendure.agent.driverflavor.ClientCommunicatorDrvFlavor.receive(ClientCommunicatorDrvFlavor.java:224)\n\tat com.amazonaws.cloudendure.agent.driverflavor.ClientMessageHandler.run(ClientMessageHandler.java:63)\nCaused by: java.net.SocketException: Network is unreachable (connect failed)\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n\tat java.net.Socket.connect(Socket.java:607)\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\n\tat com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:142)\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\n\tat com.amazonaws.http.conn.$Proxy7.connect(Unknown Source)\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n\tat com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1346)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1157)\n\t... 42 more\n"},"origin":{"hostname":"prlbroker01"},"@timestamp":"2022-11-14T06:51:59.513Z"}>>>
{"message":"agentHandshake failed: unable to attain a replicator (minor)","log":{"type":"Remote","name":"Agent","level":"WARNING","level_number":30},"source_code":{"line":365,"function":"tryCreateConnection","file":"com.amazonaws.cloudendure.agent.shared.ConnectionCreator"},"runtime_thread":20,"exception":{"message":"com.amazonaws.SdkClientException: Unable to execute HTTP request: Network is unreachable (connect failed)","type":"com.amazonaws.cloudendure.agent.shared.AgentManagementCommunicator$AgentHandshakeResponseError","trace":"com.amazonaws.cloudendure.agent.shared.AgentManagementCommunicator$AgentHandshakeResponseError: com.amazonaws.SdkClientException: Unable to execute HTTP request: Network is unreachable (connect failed)\n\tat com.amazonaws.cloudendure.drs.agent.shared.DRSAgentManagementCommunicator.getAgentCommand(DRSAgentManagementCommunicator.java:365)\n\tat com.amazonaws.cloudendure.agent.shared.ConnectionCreator.tryCreateConnection(ConnectionCreator.java:208)\n\tat com.amazonaws.cloudendure.agent.shared.ConnectionCreator.createConnection(ConnectionCreator.java:164)\n\tat com.amazonaws.cloudendure.agent.driverflavor.ClientCommunicatorDrvFlavor.getChannel(ClientCommunicatorDrvFlavor.java:122)\n\tat com.amazonaws.cloudendure.agent.driverflavor.ClientCommunicatorDrvFlavor.receive(ClientCommunicatorDrvFlavor.java:224)\n\tat com.amazonaws.cloudendure.agent.driverflavor.ClientMessageHandler.run(ClientMessageHandler.java:63)\nCaused by: com.amazonaws.SdkClientException: Unable to execute HTTP request: Network is unreachable (connect failed)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1219)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1165)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:814)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n\tat com.amazonaws.services.drs.DrsClient.doInvoke(DrsClient.java:4417)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4384)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4373)\n\tat com.amazonaws.services.drs.DrsClient.executeCreateSessionForDrs(DrsClient.java:698)\n\tat com.amazonaws.services.drs.DrsClient.createSessionForDrs(DrsClient.java:667)\n\tat com.amazonaws.cloudendure.drs.credentials_provider.DRSCreateSessionCredentialsProvider.createSession(DRSCreateSessionCredentialsProvider.java:22)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.newSession(CECreateSessionCredentialsProvider.java:81)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.access$000(CECreateSessionCredentialsProvider.java:12)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider$1.call(CECreateSessionCredentialsProvider.java:21)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider$1.call(CECreateSessionCredentialsProvider.java:18)\n\tat com.amazonaws.auth.RefreshableTask.refreshValue(RefreshableTask.java:295)\n\tat com.amazonaws.auth.RefreshableTask.blockingRefresh(RefreshableTask.java:251)\n\tat com.amazonaws.auth.RefreshableTask.getValue(RefreshableTask.java:192)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.getCredentials(CECreateSessionCredentialsProvider.java:59)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.getCredentials(CECreateSessionCredentialsProvider.java:12)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.getCredentialsFromContext(AmazonHttpClient.java:1269)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.runBeforeRequestHandlers(AmazonHttpClient.java:845)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:794)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n\tat com.amazonaws.services.drs.DrsClient.doInvoke(DrsClient.java:4417)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4384)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4373)\n\tat com.amazonaws.services.drs.DrsClient.executeGetAgentCommandForDrs(DrsClient.java:1603)\n\tat com.amazonaws.services.drs.DrsClient.getAgentCommandForDrs(DrsClient.java:1571)\n\tat com.amazonaws.cloudendure.drs.agent.shared.DRSAgentManagementCommunicator.getAgentCommand(DRSAgentManagementCommunicator.java:338)\n\t... 5 more\nCaused by: java.net.SocketException: Network is unreachable (connect failed)\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n\tat java.net.Socket.connect(Socket.java:607)\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\n\tat com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:142)\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\n\tat com.amazonaws.http.conn.$Proxy7.connect(Unknown Source)\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n\tat com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1346)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1157)\n\t... 42 more\n"},"origin":{"hostname":"prlbroker01"},"@timestamp":"2022-11-14T06:51:59.518Z"}>>>
{"message":"Exception was thrown by the client when trying to confirm snapshot","log":{"type":"Remote","name":"Agent","level":"WARNING","level_number":30},"source_code":{"line":1219,"function":"updateAgentSourceProperties","file":"com.amazonaws.cloudendure.drs.agent.shared.DRSAgentManagementCommunicator"},"runtime_thread":24,"exception":{"message":"Unable to execute HTTP request: Connect to drs.eu-west-1.amazonaws.com:443 [drs.eu-west-1.amazonaws.com/52.18.96.185, drs.eu-west-1.amazonaws.com/34.246.37.140, drs.eu-west-1.amazonaws.com/52.30.188.31] failed: connect timed out","type":"com.amazonaws.SdkClientException","trace":"com.amazonaws.SdkClientException: Unable to execute HTTP request: Connect to drs.eu-west-1.amazonaws.com:443 [drs.eu-west-1.amazonaws.com/52.18.96.185, drs.eu-west-1.amazonaws.com/34.246.37.140, drs.eu-west-1.amazonaws.com/52.30.188.31] failed: connect timed out\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1219)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1165)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:814)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n\tat com.amazonaws.services.drs.DrsClient.doInvoke(DrsClient.java:4417)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4384)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4373)\n\tat com.amazonaws.services.drs.DrsClient.executeCreateSessionForDrs(DrsClient.java:698)\n\tat com.amazonaws.services.drs.DrsClient.createSessionForDrs(DrsClient.java:667)\n\tat com.amazonaws.cloudendure.drs.credentials_provider.DRSCreateSessionCredentialsProvider.createSession(DRSCreateSessionCredentialsProvider.java:22)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.newSession(CECreateSessionCredentialsProvider.java:81)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.access$000(CECreateSessionCredentialsProvider.java:12)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider$1.call(CECreateSessionCredentialsProvider.java:21)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider$1.call(CECreateSessionCredentialsProvider.java:18)\n\tat com.amazonaws.auth.RefreshableTask.refreshValue(RefreshableTask.java:295)\n\tat com.amazonaws.auth.RefreshableTask.blockingRefresh(RefreshableTask.java:262)\n\tat com.amazonaws.auth.RefreshableTask.getValue(RefreshableTask.java:192)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.getCredentials(CECreateSessionCredentialsProvider.java:59)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.getCredentials(CECreateSessionCredentialsProvider.java:12)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.getCredentialsFromContext(AmazonHttpClient.java:1269)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.runBeforeRequestHandlers(AmazonHttpClient.java:845)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:794)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n\tat com.amazonaws.services.drs.DrsClient.doInvoke(DrsClient.java:4417)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4384)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4373)\n\tat com.amazonaws.services.drs.DrsClient.executeUpdateAgentSourcePropertiesForDrs(DrsClient.java:3930)\n\tat com.amazonaws.services.drs.DrsClient.updateAgentSourcePropertiesForDrs(DrsClient.java:3896)\n\tat com.amazonaws.cloudendure.drs.agent.shared.DRSAgentManagementCommunicator.updateAgentSourceProperties(DRSAgentManagementCommunicator.java:268)\n\tat com.amazonaws.cloudendure.agent.driverflavor.AgentSourcePropertiesSetter.poll(AgentSourcePropertiesSetter.java:31)\n\tat com.amazonaws.cloudendure.common.Poller.run(Poller.java:56)\nCaused by: org.apache.http.conn.ConnectTimeoutException: Connect to drs.eu-west-1.amazonaws.com:443 [drs.eu-west-1.amazonaws.com/52.18.96.185, drs.eu-west-1.amazonaws.com/34.246.37.140, drs.eu-west-1.amazonaws.com/52.30.188.31] failed: connect timed out\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:151)\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\n\tat com.amazonaws.http.conn.$Proxy7.connect(Unknown Source)\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n\tat com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1346)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1157)\n\t... 39 more\nCaused by: java.net.SocketTimeoutException: connect timed out\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n\tat java.net.Socket.connect(Socket.java:607)\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\n\tat com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:142)\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n\t... 55 more\n"},"origin":{"hostname":"prlbroker01"},"@timestamp":"2022-11-14T06:52:26.679Z"}>>>
{"message":"Poller AgentSourcePropertiesSetter got an exception","log":{"type":"Remote","name":"Agent","level":"WARNING","level_number":30},"source_code":{"line":1219,"function":"run","file":"com.amazonaws.cloudendure.common.Poller"},"runtime_thread":24,"exception":{"message":"Unable to execute HTTP request: Connect to drs.eu-west-1.amazonaws.com:443 [drs.eu-west-1.amazonaws.com/52.18.96.185, drs.eu-west-1.amazonaws.com/34.246.37.140, drs.eu-west-1.amazonaws.com/52.30.188.31] failed: connect timed out","type":"com.amazonaws.SdkClientException","trace":"com.amazonaws.SdkClientException: Unable to execute HTTP request: Connect to drs.eu-west-1.amazonaws.com:443 [drs.eu-west-1.amazonaws.com/52.18.96.185, drs.eu-west-1.amazonaws.com/34.246.37.140, drs.eu-west-1.amazonaws.com/52.30.188.31] failed: connect timed out\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1219)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1165)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:814)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n\tat com.amazonaws.services.drs.DrsClient.doInvoke(DrsClient.java:4417)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4384)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4373)\n\tat com.amazonaws.services.drs.DrsClient.executeCreateSessionForDrs(DrsClient.java:698)\n\tat com.amazonaws.services.drs.DrsClient.createSessionForDrs(DrsClient.java:667)\n\tat com.amazonaws.cloudendure.drs.credentials_provider.DRSCreateSessionCredentialsProvider.createSession(DRSCreateSessionCredentialsProvider.java:22)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.newSession(CECreateSessionCredentialsProvider.java:81)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.access$000(CECreateSessionCredentialsProvider.java:12)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider$1.call(CECreateSessionCredentialsProvider.java:21)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider$1.call(CECreateSessionCredentialsProvider.java:18)\n\tat com.amazonaws.auth.RefreshableTask.refreshValue(RefreshableTask.java:295)\n\tat com.amazonaws.auth.RefreshableTask.blockingRefresh(RefreshableTask.java:262)\n\tat com.amazonaws.auth.RefreshableTask.getValue(RefreshableTask.java:192)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.getCredentials(CECreateSessionCredentialsProvider.java:59)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.getCredentials(CECreateSessionCredentialsProvider.java:12)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.getCredentialsFromContext(AmazonHttpClient.java:1269)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.runBeforeRequestHandlers(AmazonHttpClient.java:845)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:794)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n\tat com.amazonaws.services.drs.DrsClient.doInvoke(DrsClient.java:4417)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4384)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4373)\n\tat com.amazonaws.services.drs.DrsClient.executeUpdateAgentSourcePropertiesForDrs(DrsClient.java:3930)\n\tat com.amazonaws.services.drs.DrsClient.updateAgentSourcePropertiesForDrs(DrsClient.java:3896)\n\tat com.amazonaws.cloudendure.drs.agent.shared.DRSAgentManagementCommunicator.updateAgentSourceProperties(DRSAgentManagementCommunicator.java:268)\n\tat com.amazonaws.cloudendure.agent.driverflavor.AgentSourcePropertiesSetter.poll(AgentSourcePropertiesSetter.java:31)\n\tat com.amazonaws.cloudendure.common.Poller.run(Poller.java:56)\nCaused by: org.apache.http.conn.ConnectTimeoutException: Connect to drs.eu-west-1.amazonaws.com:443 [drs.eu-west-1.amazonaws.com/52.18.96.185, drs.eu-west-1.amazonaws.com/34.246.37.140, drs.eu-west-1.amazonaws.com/52.30.188.31] failed: connect timed out\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:151)\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\n\tat com.amazonaws.http.conn.$Proxy7.connect(Unknown Source)\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n\tat com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1346)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1157)\n\t... 39 more\nCaused by: java.net.SocketTimeoutException: connect timed out\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n\tat java.net.Socket.connect(Socket.java:607)\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\n\tat com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:142)\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n\t... 55 more\n"},"origin":{"hostname":"prlbroker01"},"@timestamp":"2022-11-14T06:52:26.681Z"}>>>
{"message":"Exception was thrown by the client when trying to confirm snapshot","log":{"type":"Remote","name":"Agent","level":"WARNING","level_number":30},"source_code":{"line":1219,"function":"updateAgentBacklog","file":"com.amazonaws.cloudendure.drs.agent.shared.DRSAgentManagementCommunicator"},"runtime_thread":18,"exception":{"message":"Unable to execute HTTP request: Network is unreachable (connect failed)","type":"com.amazonaws.SdkClientException","trace":"com.amazonaws.SdkClientException: Unable to execute HTTP request: Network is unreachable (connect failed)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1219)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1165)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:814)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n\tat com.amazonaws.services.drs.DrsClient.doInvoke(DrsClient.java:4417)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4384)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4373)\n\tat com.amazonaws.services.drs.DrsClient.executeCreateSessionForDrs(DrsClient.java:698)\n\tat com.amazonaws.services.drs.DrsClient.createSessionForDrs(DrsClient.java:667)\n\tat com.amazonaws.cloudendure.drs.credentials_provider.DRSCreateSessionCredentialsProvider.createSession(DRSCreateSessionCredentialsProvider.java:22)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.newSession(CECreateSessionCredentialsProvider.java:81)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.access$000(CECreateSessionCredentialsProvider.java:12)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider$1.call(CECreateSessionCredentialsProvider.java:21)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider$1.call(CECreateSessionCredentialsProvider.java:18)\n\tat com.amazonaws.auth.RefreshableTask.refreshValue(RefreshableTask.java:295)\n\tat com.amazonaws.auth.RefreshableTask.blockingRefresh(RefreshableTask.java:262)\n\tat com.amazonaws.auth.RefreshableTask.getValue(RefreshableTask.java:192)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.getCredentials(CECreateSessionCredentialsProvider.java:59)\n\tat com.amazonaws.auth.CECreateSessionCredentialsProvider.getCredentials(CECreateSessionCredentialsProvider.java:12)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.getCredentialsFromContext(AmazonHttpClient.java:1269)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.runBeforeRequestHandlers(AmazonHttpClient.java:845)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:794)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n\tat com.amazonaws.services.drs.DrsClient.doInvoke(DrsClient.java:4417)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4384)\n\tat com.amazonaws.services.drs.DrsClient.invoke(DrsClient.java:4373)\n\tat com.amazonaws.services.drs.DrsClient.executeUpdateAgentBacklogForDrs(DrsClient.java:3702)\n\tat com.amazonaws.services.drs.DrsClient.updateAgentBacklogForDrs(DrsClient.java:3669)\n\tat com.amazonaws.cloudendure.drs.agent.shared.DRSAgentManagementCommunicator.updateAgentBacklog(DRSAgentManagementCommunicator.java:188)\n\tat com.amazonaws.cloudendure.agent.shared.BacklogPoller.poll(BacklogPoller.java:56)\n\tat com.amazonaws.cloudendure.common.Poller.run(Poller.java:56)\nCaused by: java.net.SocketException: Network is unreachable (connect failed)\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n\tat java.net.Socket.connect(Socket.java:607)\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:368)\n\tat com.amazonaws.http.conn.ssl.SdkTLSSocketFactory.connectSocket(SdkTLSSocketFactory.java:142)\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76)\n\tat com.amazonaws.http.conn.$Proxy7.connect(Unknown Source)\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n\tat com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1346)\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1157)\n\t... 39 more\n"},"origin":{"hostname":"prlbroker01"},"@timestamp":"2022-11-14T06:52:57.100Z"}>>>
```
This is hard to read and anyone trying to review it needs to have a comple cli commands to view it in a more readable format.

## Solution

Running this script against the log file will produce a more readable output. The output of the same log file above will look like this:

```
2022-11-14 06:50:55.305 [INFO] found HardwareInfoGetterLinux.CpuInfoEntry(modelName=Intel Core i7 9xx (Nehalem Core i7, IBRS update), cores=1, physicalId=0, backupId=0)
2022-11-14 06:50:55.314 [INFO] Opening named pipe for shutdown {0}
2022-11-14 06:50:55.322 [INFO] found HardwareInfoGetterLinux.CpuInfoEntry(modelName=Intel Core i7 9xx (Nehalem Core i7, IBRS update), cores=1, physicalId=1, backupId=1)
2022-11-14 06:50:55.325 [INFO] computed CPU array [HardwareInfoGetter.Cpu(modelName=Intel Core i7 9xx (Nehalem Core i7, IBRS update), cores=1), HardwareInfoGetter.Cpu(modelName=Intel Core i7 9xx (Nehalem Core i7, IBRS update), cores=1)]
2022-11-14 06:50:55.363 [INFO] CPUs: {0}
2022-11-14 06:50:55.901 [INFO] rootPathString {0} bootPathString {1}
2022-11-14 06:51:59.513 [WARNING] Exception was thrown by the client when trying to confirm snapshot
2022-11-14 06:51:59.518 [WARNING] agentHandshake failed: unable to attain a replicator (minor)
2022-11-14 06:52:26.679 [WARNING] Exception was thrown by the client when trying to confirm snapshot
2022-11-14 06:52:26.681 [WARNING] Poller AgentSourcePropertiesSetter got an exception
2022-11-14 06:52:57.100 [WARNING] Exception was thrown by the client when trying to confirm snapshot
```

## Usage

### Installation

1. Install python 3.8 or higher. If you are using OSX and homebrew, then you can use the below command:
`$ brew install python@3.8`

2. Download the package from github using git clone or download the zip file.

3. Create a python virtual environment and activate it. If you are using OSX and homebrew, then you can use the below commands:
```
$ cd <path to the downloaded package>
$ /opt/homebrew/bin/python3 -m venv <virt env name>
$ source venv/bin/activate
```

4. Install the required packages:
```
$ pip install -r requirements.txt
```

### Running the script

After installing the required packages, you can run the script using the below command:
```
$ python3 main.py
```

The script will ask you to provide the path to the log file. Make sure to provide the **absolute path** to the log file you want to be formatted.

A directory called `outputs` will be created in the same directory where the script is located. The formatted log file will be saved in this directory as <path_to_downloaded_package>/outputs/new_agent_log.log